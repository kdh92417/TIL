# 레이어드 아키텍처(Layered Architecture)

> 여러 레이어를 분리해서 레이어마다 해야 할 역할을 정의해놓은 구조

<br>

## 4계층(4 Layered) 아키텍처

### 1. 프레젠테이션 레이어
- User Interface
- 인터페이스와 애플리케이션이 연결되는 곳
- 웹 통신 프레임워크, CLI 등 인터페이스, 입출력의 변환 등 외부와의 통신을 담당

### 2. 어플리케이션 레이어
  

### 3. 도메인 레이어

- 도메인과 관련된 객체들이 모이는 곳

### 4. 인프라스트럭처 레이어
- 다른 레이어를 지탱하는 기술적 기반을 담은 객체들이 모이는 곳 ex) DB, ORM, 메시지 큐등
- 애플리케이션 외적인 인프라들과의 어댑터 역할을 담당

<br>

## 레이어의 의존성 흐름

프레젠테이션 레이어 -> 애플리케이션 레이어 -> 도메인 레이어 -> 인프라스트럭처 레이어

<br>

## Anti Pattern

- 양방향 의존성 (Circular Dependency) : 레이어가 서로 양뱡향으로 의존하게되면 유지보수가 쉽지 않다.

<br>

## 레이어드 아키텍처의 장점과 문제점

### 장점

- 레이어마다 정해진 역할을 두어 레이어마다 책임을 두고 분리해서 유지보수 및 코드관리가 용이
- 레이어의 의존 흐름이 일정 -> 새로운 기능 개발할 때 통일된 흐름에 맞게 빠르게 개발이 가능
- 의존성의 흐름에 따라 자연스럽게 전체적인 구조 파악이 쉽다.

### 문제점

> 레이어드 아키텍처는 결국 인프라스트럭처 레이어(ex. DB)에 의존성을 갖게됨
> -> DB가 바뀌면 DB에 의존하는 레이어들이 쉽게 영향을 받을 수 밖에 없다.

DB가 시스템 설계에 직접적으로 영향을 미치다보니, 소프트웨어의 모든 구조가 DB 중심의 설계가 된다.
그럼으로서 어플리케이션 설계에 앞서 데이터베이스의 선택과 DB설계부터 하게되어
객체지향에서 추구하는 `액션` 이 먼저가 아니라, `상태`가 중심이 되다보니 점점 객체지향에서 벗어나는 코드가 됨


